<nav>
  <div>
    <!-- Título de la aplicación -->
    <a th:href="@{/}"><img src="/img/CORLINK-2-sf.png" alt="logo" height="120px"></a>

  </div>

  <!-- Buscador -->
  <div class="nav_search">
    <form th:action="@{/search}" method="POST">
      <input type="text" name="search" placeholder="Buscador" />
      <button type="submit">Search</button>
    </form>
  </div>

  <div>
    <!-- Opciones de Login y Registro -->
    <div th:unless="${session.usuariosession != null}" class="nav_guest">
      <a th:href="@{/login}">Login</a>
      <a th:href="@{/registrar}">Registrarse</a>
    </div>

    <!-- Lista desplegable cuando el usuario está logeado -->
    <div th:if="${session.usuariosession != null}" class="nav_dropdown">
      <!-- Botón para desplegar el menú -->

      <span th:text="${'Hola ' + session.usuariosession.nombre }" ></span>
           <button class="nav_btn">
      <img th:if="${session.usuariosession.imagen != null}" th:src="@{/imagen/perfil/__${session.usuariosession.id}__}" alt="mdo" width="42" height="42" class="nav_img_perfil" >
        <img th:if="${session.usuariosession.imagen == null}"  th:src="@{/img/sinImg.png}" alt="NO"  width="42" height="42" class="nav_img_perfil" >
      </button>


      <div class="nav_dropdown-content">

        <a sec:authorize="hasRole('USER')" th:href="@{/proveedor/lista}">Proveedores</a>
        <a th:href="@{/perfil}">Perfil</a>
        <a th:href="@{/logout}">Cerrar sesión</a>
      </div>
    </div>
  </div>
</nav>
